<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../../../css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Alata|Anton|Assistant|BenchNine|Orbitron|Pathway+Gothic+One|Teko&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Steer & Attraction Attribute-Trigonometric Effect</title>
  <style>
    body {
      padding: 0;
      margin: 0;
      background-color: black;
    }
  </style>
  <script src="libraries/p5.js"></script>
  <script src="libraries/p5.dom.js"></script>
  <script src="sketch.js"></script>
</head>

<body>
  <div id="topnav">
    <h2 id="PageTag">Steer & Attraction Attribute-Trigonometric Effect</h2>
  </div>

  <a href="javascript:void(0);">

    <div id="nav-icon1" onclick="MyToggle()">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </a>

  <div class="mySideMenu" id="mySide">
    <nav id="MyNav" class="MyNav">
      <h2 style="color:#BF9673">Sidebar</h2>
      <ul>
        <li><a href="../../../index.html">Home</a></li>
        <li><a href="../../../task3.html">Interaction Design & Unity</a></li>
        <li><a href="../../../p5.html">JavaScript</a></li>
        <li><a href="../../../Sound.html">Sound Visualization</a></li>
        <li><a href="../../../Managment/RainFall-Steer-v18-ForSub/index.html">Information Visualization</a></li>
        <li><a href="../../../Logo.html">Logo Redesign</a></li>
      </ul>
    </nav>
  </div>

  <div id="ToolBox">
    <h3>Tools</h3>
    <h5 style="width:310px;">Mouse Interactive. Move mouse around to interact with the train. Click to toggle Attribute.</h5>
    <br>


    <input type="range" min="10" max="255" value="10" step="1" class="slider" id="redC" style="display:none">
    <input type="range" min="10" max="255" value="10" step="1" class="slider" id="greenC" style="display:none">
    <input type="range" min="10" max="255" value="10" step="1" class="slider" id="blueC" style="display:none">
    <input type="range" min="0.1" max="255" value="18" step="1" class="slider" id="CanD" style="display:none">
    <h5 style="display:none">Particle Opacity</h5>
    <br>
    <input type="range" min="0.01" max="1" value="1" step="0.01" class="slider" id="pd" style="display:none">
    <br>
    <div onclick="shapeShoft(this.id)" id="eleOne" style="display:none">Drawing Mode</div>
    <div onclick="shapeShoft(this.id)" id="eleTwo" style="display:none">Dance Loop Mode</div>

    <input id="resive" style="display:none">
  </div>
  </div>
  <a href="../../../p5.html">
    <div id="BackB" onmouseover="hoverOnClassToggle(this.id)" onmouseout="hoverOffClassToggle(this.id)">
      <span></span>
      <span></span>
    </div>
  </a>
  <figure id="CodeContainer">
    <pre>
    <code>
      var cols, rows;
      var scl = 10;
      var ball = [];
      var DIS = 80;
      var DISTIRTION = 30;
      var mode = false;
      var Can;

      function centerCan() {
        var x = (windowWidth - width) / 2;
        var y = (windowHeight - height) / 2;
        Can.position(x, y);
      }

      function setup() {
        Can = createCanvas(600, 600);
        Can.id("pCan");
        centerCan();

        stroke(255);
        fill(255);

        cols = (width) / scl;
        rows = (height) / scl;

        for (var y = 0; y < rows; y++) {
          for (var x = 0; x < cols; x++) {
            var index = x + y * width;
            ball.push(new Balls(x * scl, y * scl));
          }
        }
      }

      function windowResized() {
        centerCan();
      }

      function draw() {
        background(0);

        var att = createVector(mouseX, mouseY);
        for (var b of ball) {
          b.update(att);
        }
      }

      function Balls(x, y) {
        this.pos = createVector(x, y);
        this.origin = this.pos.copy();
        this.vel = createVector();

        this.update = function(attract) {
          var tmp = this.origin.copy();
          tmp.sub(attract);
          var dr = tmp.mag();
          var drMap = map(dr, 0, DIS, 0, PI);
          tmp.normalize();
          if (mode) {
            tmp.mult(DISTIRTION * sin(drMap));
          }
          if (dr < DIS) {
            strokeWeight(1 + 10 * (abs(cos(drMap / 2))));
            if (!mode) {
              tmp.mult(DISTIRTION * sin(drMap));
            }
          } else {
            strokeWeight(map(min(dr, width), 0, width, 5, 0.1));
          }
          var target = createVector(
            this.origin.x + tmp.x,
            this.origin.y + tmp.y
          );
          tmp = this.pos.copy();
          tmp.sub(target);
          tmp.mult(-map(attract.dist(this.pos), 0, 2 * width, 0.1, 0.01));
          this.vel.add(tmp);
          this.vel.mult(0.87);
          this.pos.add(this.vel);

          point(this.pos.x, this.pos.y);
        }
      }

      function mousePressed() {
        mode = !mode;
      }
    </code>
  </pre>
  </figure>

  <div id="codeButton" onclick="showInfo(CodeContainer,this.id)">
    <span></span>
    <span></span>
  </div>

  <script src="../../../js/Scripts.js"></script>
</body>

</html>