<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../../../css/style.css">
  <link rel="shortcut icon" type="image/png" href="../../../favicon.png">
  <link href="https://fonts.googleapis.com/css?family=Alata|Anton|Assistant|BenchNine|Orbitron|Pathway+Gothic+One|Teko&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Limited Attraction Particle System</title>
  <style>
    body {
      padding: 0;
      margin: 0;
      background-color: black;
    }
  </style>
  <script src="libraries/p5.js"></script>
  <script src="libraries/p5.dom.js"></script>
  <script src="sketch.js"></script>
</head>

<body>
  <div id="topnav">
    <h2 id="PageTag">Limited Attraction Particle System</h2>
  </div>

  <a>
    <div id="nav-icon1" onclick="menuToggle()">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </a>

  <div class="mySideMenu" id="mySide">
    <nav id="MyNav" class="MyNav">
      <h2 style="color:#BF9673">Sidebar</h2>
      <ul>
        <li><a href="../../../index.html">Home</a></li>
        <li><a href="../../../task3.html">Interaction Design & Unity</a></li>
        <li><a href="../../../p5.html">JavaScript</a></li>
        <li><a href="../../../Sound.html">Sound Visualization</a></li>
        <li><a href="../../../Managment/RainFall-Steer-v18-ForSub/index.html">Information Visualization</a></li>
        <li><a href="../../../Logo.html">Logo Redesign</a></li>
      </ul>
    </nav>
  </div>

  <div id="ToolBox">
    <!-- <h3>Tools</h3>
    <h5>Red Value</h5>
    <h5>Green Value</h5>
    <h5>Blue Value</h5>
    <h5>Canvas Opacity</h5>

    <br>


    <input type="range" min="10" max="255" value="10" step="1" class="slider" id="redC">
    <input type="range" min="10" max="255" value="10" step="1" class="slider" id="greenC">
    <input type="range" min="10" max="255" value="10" step="1" class="slider" id="blueC">
    <input type="range" min="0.1" max="255" value="18" step="1" class="slider" id="CanD">
    <h5>Stroke Thickness</h5>
    <br>
    <input type="range" min="0.01" max="1" value="1" step="0.01" class="slider" id="pd"> -->
    <!-- <br> -->
    <h2>Mouse Intractive!!</h2>
    <!-- <div onclick="shapeShoft(this.id)" id="eleOne">Reset</div> -->
    <!-- <div onclick="shapeShoft(this.id)" id="eleTwo">Dance Loop Mode</div> -->

    <input id="receive" style="display:none">
  </div>
  </div>
  <a href="../../../p5.html">
    <div id="BackB" onmouseover="hoverOnClassToggle(this.id)" onmouseout="hoverOffClassToggle(this.id)">
      <span></span>
      <span></span>
    </div>
  </a>

  <figure id="CodeContainer">
    <pre>
    <code>
      var b = [];
      var attractor;
      var tuched = 60;
      var r;
      var Can;

      function centerCan() {
        var x = (windowWidth - width) / 2;
        var y = (windowHeight - height) / 2;
        Can.position(x, y);
      }

      function setup() {
        Can = createCanvas(1000, 1000);
        Can.id("pCan");
        centerCan();
        angleMode(DEGREES);

        for (var i = 0; i < 400; i++) {
          var m1 = random(20);
          var g = 8;
          b[i] = new Planet(
            random(width),
            random(height), g, m1);
          b.push(new Planet(
            width / 2,
            height / 2, 27, m1));
        }
        r = width / 4;

      }

      function windowResized() {
        centerCan();
      }

      function draw() {

        background(0, 120);
        translate(width / 2, height / 2);

        noFill();
        stroke(255, 6);
        ellipse(0, 0, r * 2);

        var mouseDx = map(
          mouseX, width / 2 - r, width / 2 + r,
          -r, r
        );
        var mouseDy = map(
          mouseY, height / 2 - r, height / 2 + r,
          -r, r
        );
        attractor = createVector(
          mouseDx,
          mouseDy
        );

        for (var planet of b) {
          planet.run(attractor);
        }

      }

      function Planet(x, y, g, m1) {

        this.mass = m1;
        this.g = g;

        this.pos = createVector(x, y);
        this.lPos = createVector(x, y);

        this.vel = createVector();
        this.acc = createVector();

        this.run = function(attractor) {

          this.display();
          this.physic();
          this.calForce(attractor);
          this.CyrcleEdges();

        }

        this.display = function() {

          // stroke(250, 250, 210);
          strokeWeight(3);

          //point(this.pos.x, this.pos.y);

          line(this.pos.x, this.pos.y,
            this.lPos.x, this.lPos.y);

          this.lPos.x = this.pos.x;
          this.lPos.y = this.pos.y;

        }

        this.physic = function() {

          this.vel.add(this.acc);
          this.vel.limit(6);
          this.pos.add(this.vel);
          this.acc.mult(0);

        }

        this.calForce = function(attractor) {

          for (var planet of b) {

            if (mouseIsPressed) {

              var distance = p5.Vector.sub(
                this.pos,
                attractor
              );
            } else {
              var distance = p5.Vector.sub(
                this.pos,
                planet.pos
              );
            }

            var ds = distance.mag();
            ds = constrain(ds, 1, tuched);
            var gravity =
              ((this.g - planet.g) *
                (this.mass * planet.mass)) /
              (ds * ds);
            distance.setMag(gravity);
            this.acc.add(distance);
          }

        }

        this.CyrcleEdges = function() {

          var lilCal = dist(
            this.pos.x, this.pos.y,
            0, 0)

          if (lilCal > r) {
            this.pos.x = random(-r, r);
            this.pos.y = random(-r, r);
            this.updatePrev();
          }
        }

        this.updatePrev = function() {

          this.lPos.x = this.pos.x;
          this.lPos.y = this.pos.y;

        }

      }
    </code>
  </pre>
  </figure>

  <div id="codeButton" onclick="showInfo(CodeContainer,this.id)">
    <span></span>
    <span></span>
  </div>

  <script src="../../../js/Scripts.js"></script>
</body>

</html>